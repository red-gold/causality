!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("causal-net.utils"),require("cli-progress")):"function"==typeof define&&define.amd?define(["causal-net.utils","cli-progress"],t):"object"==typeof exports?exports["@causalNet/log"]=t(require("causal-net.utils"),require("cli-progress")):e["@causalNet/log"]=t(e["causal-net.utils"],e["cli-progress"])}(this,function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)r.d(n,l,function(t){return e[t]}.bind(null,l));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){e.exports=r(3)},function(e,t,r){"use strict";r.r(t);var n=class{constructor(){this.AcceptedLevels={debug:0,log:1,warn:2,error:3},this.rAcceptedLevels={0:"debug",1:"log",2:"warn",3:"error"},this.level=this.AcceptedLevels.debug}set Level(e){if(void 0===this.AcceptedLevels[e])throw Error(`${e} must be one of ${Object.keys(this.AcceptedLevels)}`);this.level=this.AcceptedLevels[e]}get Level(){return this.rAcceptedLevels[this.level]}connect(){throw Error("implement required")}log(e){throw Error("implement required")}warn(e){throw Error("implement required")}error(e){throw Error("implement required")}debug(e){throw Error("implement required")}groupBegin(e){throw Error("implement required")}groupEnd(){throw Error("implement required")}progressBegin(e){throw Error("implement required")}progressUpdate(e){throw Error("implement required")}progressEnd(e){throw Error("implement required")}},l=r(1);var o=e=>(class extends e{connect(e){this.currentBar=!1}log(e){if(this.currentBar=!1,this.level>=this.AcceptedLevels.log)return null;console.log(e)}progressBegin(e){this.processCounter+=1,this.currentBar=new l.Bar({},l.Presets.shades_classic),this.currentBar.setTotal(e)}progressUpdate(e){this.currentBar||this.progressBegin(),this.processCounter+=1,this.currentBar.update(this.processCounter)}progressEnd(){this.currentBar.stop(),this.processCounter=0}debug(e){if(this.level>=this.AcceptedLevels.debug)return null;console.debug(e)}warn(e){if(this.level>=this.AcceptedLevels.warn)return null;console.warn(e)}error(e){if(this.level>=this.AcceptedLevels.error)return null;console.error(e)}});class s{constructor(){}static JSONDisplay(e,t,r){var n={root:{tag:"pre",style:"padding: 5px; font-size: 1rem;"},titleContainer:{tag:"div",style:"margin-bottom: 3px;"},title:{tag:"span",style:"cursor: pointer;"},titleText:{tag:"span",style:""},openButton:{tag:"span",style:"display: inline-block; margin: 0px 7px 0px 2px; border-top: 5px solid transparent; border-bottom: 5px solid transparent; border-left: 5px solid black;"},contentsContainer:{tag:"div",style:"padding-left: 18px;"},keyValuePair:{tag:"span",style:"display: block; margin-bottom: 2px;"},key:{tag:"span",style:"color: darkblue;"},symbolValue:{tag:"span",style:"color: darkgreen;"},stringValue:{tag:"span",style:"color: crimson;"},numberValue:{tag:"span",style:"color: blue;"},booleanValue:{tag:"span",style:"color: blue;"},nullValue:{tag:"span",style:"color: blue;"}},l=isNaN(parseInt(t))?1/0:parseInt(t),o="object"==typeof r?function(e,t){var r={};for(var n in e)r[n]=Object.assign({},e[n],t[n]);return r}(n,r):n;function s(e,t,r){var n=r,l=document.createElement(o.titleContainer.tag);l.style.cssText=o.titleContainer.style,l.setAttribute("data-test","titleContainer");var s=document.createElement(o.titleText.tag),i=document.createElement(o.title.tag);return i.style.cssText=o.title.style,s.style.cssText=o.titleText.style,i.appendChild(function(e){var t=document.createElement(o.openButton.tag);return t.style.cssText=o.openButton.style,t.style.transform=e?"rotate(0deg)":"rotate(90deg)",t}(r)),t&&s.appendChild(a(t)),s.appendChild(document.createTextNode(e)),i.appendChild(s),i.onclick=function(){var e=i.firstChild;i.parentNode.nextSibling.style.display=n?"block":"none",e.style.transform=n?"rotate(90deg)":"rotate(0deg)",n=!n},l.appendChild(i),l}function i(e,t){var r=document.createElement(o.keyValuePair.tag);return r.style.cssText=o.keyValuePair.style,r.appendChild(a(e)),r.appendChild(c(t)),r}function a(e){var t=document.createElement(o.key.tag);return t.style.cssText=o.key.style,t.appendChild(document.createTextNode(e+": ")),t}function c(e){var t;switch(typeof e){case"symbol":(t=document.createElement(o.symbolValue.tag)).style.cssText=o.symbolValue.style,t.appendChild(document.createTextNode(e.toString()));break;case"string":(t=document.createElement(o.stringValue.tag)).style.cssText=o.stringValue.style,t.appendChild(document.createTextNode('"'+e+'"'));break;case"number":(t=document.createElement(o.numberValue.tag)).style.cssText=o.numberValue.style,t.appendChild(document.createTextNode(e));break;case"boolean":(t=document.createElement(o.booleanValue.tag)).style.cssText=o.booleanValue.style,t.appendChild(document.createTextNode(e));break;case"object":(t=document.createElement(o.nullValue.tag)).style.cssText=o.nullValue.style,t.appendChild(document.createTextNode(e))}return t}return"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t}),function(){var t=document.createElement(o.root.tag);if(t.style.cssText=o.root.style,null==e){var r=c(null);t.appendChild(r)}else if(e instanceof Date){var n=c(e.toISOString());t.appendChild(n)}else if("object"!=typeof e){var a=c(e);t.appendChild(a)}else{var u=Array.isArray(e)?"Array["+e.length+"]":"Object",p=l<1;t.appendChild(s(u,null,p)),t.appendChild(function e(t,r){var n,a,c=r>l,u=r+1>l,p=(n=c,(a=document.createElement(o.contentsContainer.tag)).setAttribute("data-test","contentsContainer"),a.style.cssText=o.contentsContainer.style,a.style.display=n?"none":"block",a);for(var d in t)Array.isArray(t[d])?(p.appendChild(s("Array["+t[d].length+"]",d,u)),p.appendChild(e(t[d],r+1))):null===t[d]||void 0===t[d]?p.appendChild(i(d,null)):t[d]instanceof Date?p.appendChild(i(d,t[d].toISOString())):"object"==typeof t[d]?(p.appendChild(s("Object",d,u)),p.appendChild(e(t[d],r+1))):p.appendChild(i(d,t[d]));return"function"==typeof Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(function(e){p.appendChild(i(e.toString(),t[e]))}),p}(e,1))}return t}()}}var i=e=>(class extends e{connect(e=null){e=e||document.body;let t=document.createElement("ul");t.style.cssText="list-style-type: none;",e.appendChild(t),this.frameEl=e,this.loggerEl=e.getElementsByTagName("ul")[0],this.colorCode={debug:"#f1f1f1",log:"#010101",warn:"#eae26e",error:"#ea6e78"}}scrollBottom(e=null){(e=e||this.frameEl).scrollTop=e.scrollHeight-e.clientHeight}progress(e){let t=this.loggerEl.getElementsByTagName("li"),r=t[t.length-1];r&&!r.classList.contains("logger-progress")||((r=document.createElement("li")).classList.add("logger-progress"),this.loggerEl.appendChild(r));let n=s.JSONDisplay(e);var l=new Date;r.innerHTML=`<p style="font-size: 12px; text-align:right">${l}</p>`,r.appendChild(n),this.scrollBottom()}log(e,t=""){if(this.level>=this.AcceptedLevels.log)return null;this.loggerEl&&this.loggerEl.appendChild||this.connect();let r=document.createElement("li");r.style.cssText="border-bottom: 1px solid #dedede;";let n=s.JSONDisplay(e);var l=new Date;r.innerHTML=`<p style="font-size: 12px; text-align:right">${l}</p>`,n.style.cssText+=";"+t,r.appendChild(n),this.loggerEl.appendChild(r),this.scrollBottom(),console.log(e)}debug(e){if(this.level>=this.AcceptedLevels.debug)return null;let t="color:"+this.colorCode.debug;this.log(e,t)}warn(e){if(this.level>=this.AcceptedLevels.warn)return null;let t="color:"+this.colorCode.warn;this.log(e,t)}error(e){if(this.level>=this.AcceptedLevels.error)return null;let t="color:"+this.colorCode.error;this.log(e,t)}}),a=r(0);var c=new class extends(a.platform.mixWith(n,{node:[o],web:[i]})){constructor(){super(),this.groupStack=[]}groupBegin(e){let t={name:e,beginTime:new Date};this.groupStack.push(t),this.log("**********************************"),this.log(`${t.name}: begin at ${t.beginTime}`)}groupEnd(){if(this.groupStack.length>0){let e=this.groupStack.pop(),t="";this.log(`${t}${e.name}: end after ${new Date-e.beginTime} (ms)`),this.log("**********************************")}}};var u=e=>(class extends e{set Logger(e){a.assert.beInstanceOf(e,n),this.logger=e}get Logger(){if(!this.logger)throw Error("logger is not set");return this.logger}});r.d(t,"termLogger",function(){return c}),r.d(t,"LoggerMixins",function(){return u}),r.d(t,"BaseLogger",function(){return n})}])});
//# sourceMappingURL=log.node.js.map